# 01.nginx初探

## 1. 市场的各种服务器发展史：

![avatar](../../.gitbook/assets/fa-zhan-shi.jpg)

## 2. nginx 诞生记：

nginx 是由1994年毕业于俄罗斯国立莫斯科鲍曼技术大学 lgorSysoev 为俄罗斯访问量居首的 rambler.ru 站点设计开发的，开始于 2002 年，初始版 0.1.0 。

## 3. 基础功能：

> 基本 http 服务：  
> 在 nginx 提供的基本 http 服务中，主要包含以下功能特性：
>
> > 1.处理静态文件\( 如 html 静态网页和请求\)，处理索引文件和支持自动索引。  
> > 2.打开并自行管理文件描述符缓存。  
> > 3.提供泛型代理服务，并且可以使用缓存加速反向代理，同时完成简单的负载均衡和容错。  
> > 4.提供远程 fastcgi 服务的缓存机制，加速访问，同时完成简单的负载均衡和容错。  
> > 5.使用nginx的模块化特性提供过滤器功能。  
> > 6.支持http下的安全套接层安全协议 ssl。
>
> 高级http服务：
>
> > 1. 支持基于名字和Ip的虚拟主机设置。
> > 2. 支持http1.0 中的 keep-alive 模式和管线模型链接。   
> > 3. 支持重新加载配置和在线升级时，无需中断正在处理的请求。  
> > 4. 自定义访问日志格式，带缓存的日志写操作和快速的日志轮转。   
> > 5. 提供 3xx-5xx 错误代码重定向。  
> > 6. 支持重写模块扩展。  
> > 7. 支持 http dav 模块。  
> > 8. 支持 flv 流和MP4流传输。
> > 9. 支持网络监控。  
> > 10. 支持嵌入prel语言。
>
> 邮件代理服务：
>
> > 1. 支持使用外部 http 认证服务器重定向用到 imap/pop3后端，并支持imap认证方式 。  
> > 2. 支持使用外部http认证服务器认证用于后重定向链接到内部smtp后端，并支持smtp认证方式。  
> > 3. 支持邮件代理服务下的安全套接层安全协议ssl。
> > 4. 支持纯文本通信协议的扩展协议 starttls。

## 4. 常用功能：

> http代理和反向代理：
>
> > 代理服务和反向代理服务时 nginx 服务器作为 web 服务器的主要功能之一，在提供反向代理服务时，nginx 服务器转发前端请求性能稳定，并且后端转发和业务配置相互分离，配置相当灵活。在进行配置时，不用关心网络环境如何，可以任意指定ip和端口或者其他类型的链接请求。  
> > 还支持 表达式，通过正则相关的配置，根据不同的表达式，采用不同的转发策略。对后端的返回状态进行异常的判断，如果返回结果不正常，则重新请求另一个主机，并自动剔除异常主机。还支持错误页面跳转。
>
> 负载均衡：
>
> > 负载均衡：
> >
> > > 1. 将单一的重负载分担到多个网络节点上做并行处理，每个节点处理结束后将节点汇总返回给用户，这样可以大幅提高网络系统处理能力。   
> > > 2. 将大量前端兵法访问数据或术后据流量分担到多个后端网络节点上分别处理，这样可以有效减少前端用户等待时间。

负载均衡策略可以分为两大类：

> 内置策略：
>
> > 1.轮询：
> >
> > > 将每个前端请求按顺序逐一分配到不同的后端节点上，出现问题的节点直接剔除节点。  
> > > 2.加权轮询： 就是基础的分配策略上加上权重。 3. ip hash: 根据前端算的 hash 分配到指定的服务器上。
>
> 扩展策略：
>
> > 主要时通过第三方模块实现。

## 5. web 缓存：

