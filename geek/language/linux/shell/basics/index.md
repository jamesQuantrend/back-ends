## 本章的知识点：
- a. grep
- b. cut
- c. sort
- d. uniq
- e. tee
- f. diff
- g. expect

### a. grep
- 定义：
    - grep 是行过滤工具；用于根据关键字进行过滤。
- 语法：
    ```
        grep 选项 '关键字' 文件名
    ```
- 常见选项：
   - -i：不区分大小写  
   - -v: 查找不包含指定内容的行，反向选择  
   - -w: 按单词搜索
   - -o: 打印匹配的关键字
   - -c: 统计匹配到的次数
   - -n: 显示行号
   - -r: 查找当前目录下所有的文件包括子目录
   - -A：显示匹配行和后面多少行
   - -B: 显示匹配行和前面多少行
   - -C: 显示匹配行前后多少行
   - -l: 只列出匹配的文件名
   - -L: 列出不匹配的文件名
   - -e: 使用正则匹配
   - -E：使用扩展正则匹配
   - ^key: 以关键字开头
   - key$: 以关键字结尾
   - ^$: 匹配空行
   - --color=aoto: 可以给找到的关键字添加颜色

### b. cut
- 定义：
    - cut 是列截取的工具，用于列的截取
- 语法：
    ```
       cut 选项 文件名
    ```
- 常见选项：
   - -c：以字符为单位进行分割，截取
   - -d: 自定义分割符，默认的制表符是\t
   - -f: 和-d结合使用，指定截取那个区域

### c. sort
- 定义：
    - sort 工具用于排序；他将文件的每一行作为一个单位，从首字符向后，依次按 ASCLL 码值进行比较，最后将他们按照升序输出。
- 语法：
- 常见选项：
   - -u：去除重复行
   - -r: 降序排序，默认是升序
   - -o: 将排序结果输出到文件中，类似重定向符号>
   - -n: 以数字排序，默认是按照字符排序
   - -t：分割符
   - -k: 第n列
   - -b: 忽略前导空格
   - -R：随机排序每次的结果都不一样

### d. uniq
- 定义：
    - 去除连续的重复行。
- 语法：
- 常见选项：
   - -i：忽略大小写
   - -c: 统计重复行次数
   - -d: 只显示重复行

### e. tee
- 定义：
    - tee工具从标准输入读取并写入到标准输出和文件，就是双向覆盖重定向(屏幕输出|文本输出)。
- 语法
- 常见选项：
   - -a：双向追加重定项

### f. diff
- 定义：
    - diff工具用于逐行比较文件的内容。
- 语法：
    ```
        diff [选项] 文件1 文件2
    ```
- 常见选项：
   - -b：不检查空格
   - -B: 不检查空白行
   - -i: 不检查大小写
   - -w: 忽略所有的空格
   - --normal: 正常的显示(默认)
   - -c: 上下文格式显示
   - -u: 合并格式显示

### g. expect
- 定义:
    - 实现服务器的自动应答
    - 注意：
        - 这个的获取参数和shell不一样

- 语法:

- 示例:
    ```
        !/usr/bin/expect

        # 定义变量
        set ip 192.168.1.12

        #开启服务
        spawn ssh root@$ip
        # 捕获相关内容
        expect {
            "(yes/no)" { send "yes\r";exp_continue}
            "password:" { send "123456\r"} 
        }

        interact #交互
    ```

    - expect和shell结合使用
    ```
        !/usr/bin/env bash

        while read ip pass //这个是在外置文件中的变量
        do
            /user/bin/expect <<-END &>/dev/null
            #开启服务
            spawn ssh root@$ip
            # 捕获相关内容
            expect {
                "(yes/no)" { send "yes\r";exp_continue}
                "password:" { send "123456\r"} 
            }

            expect "#" {send "useradd dong.li; rm -rf /temp/*; exit\r}
            expect eof
            END
        done < ip.text

        #ip.text
        127.0.0.1 12343
        127.0.0.2 12343
    ```